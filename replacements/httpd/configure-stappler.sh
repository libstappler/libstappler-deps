#!/bin/bash

./configure --prefix=$1 \
	CPPFLAGS="-I$STAPPLER_DEPS_ROOT/include" \
	LDFLAGS=" -L$STAPPLER_DEPS_ROOT/lib" \
	PKG_CONFIG_PATH="$STAPPLER_DEPS_ROOT/lib/pkgconfig" \
	--with-mpm=event \
	--with-included-apr \
	--disable-session \
	--disable-dav \
	--disable-auth-digest \
	--disable-auth_basic \
	--disable-auth-form \
	--disable-authz-groupfile \
	--disable-authz-user \
	--disable-authz-dbm \
	--disable-authz-owner \
	--disable-authz-dbd \
	--disable-authn-file \
	--disable-authn-core \
	--disable-authn-dbm \
	--disable-authn-anon \
	--disable-authn-dbd \
	--disable-authn-socache \
	--disable-allowmethods \
	--disable-file \
	--disable-cache \
	--disable-socache-dbm \
	--disable-socache-memcache \
	--disable-macro \
	--disable-dbd \
	--disable-dumpio \
	--disable-buffer \
	--disable-ratelimit \
	--disable-ext-filter \
	--disable-request \
	--disable-substitute \
	--disable-sed \
	--disable-deflate \
	--disable-log-debug \
	--disable-logio \
	--disable-expires \
	--disable-unique-id \
	--disable-slotmem-shm \
	--disable-lbmethod-byrequests \
	--disable-lbmethod-bytraffic \
	--disable-lbmethod-bybusyness \
	--disable-lbmethod-heartbeat \
	--disable-info \
	--disable-cgid \
	--disable-vhost-alias \
	--disable-negotiation \
	--disable-actions \
	--disable-speling \
	--disable-userdir \
	--disable-file-cache \
	--disable-cache_socache \
	--disable-include \
	--disable-remoteip \
	--disable-md \
	--disable-mime \
	--disable-systemd \
	--enable-dbd \
	--enable-authz-host \
	--enable-authz-core \
	--enable-ssl \
	--enable-ssl-staticlib-deps \
	--enable-socache-shmcb \
	--enable-dbd \
	--enable-rewrite \
	--enable-proxy \
	--enable-proxy-http \
	--enable-proxy-wstunnel \
	--enable-proxy-connect \
	--enable-slotmem-shm \
	--enable-mods-static=most
